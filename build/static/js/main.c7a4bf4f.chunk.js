(this["webpackJsonppart2-notes"]=this["webpackJsonppart2-notes"]||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(15),o=t.n(c),a=t(6),i=t(3),u=t(1),s=function(e){var n=e.filterText,t=e.filterChangeHandler;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{children:["filter shown with:",Object(r.jsx)("input",{value:n,onChange:t})]})})},l=function(e){var n=e.submitHandler,t=e.newName,c=e.nameChangeHandler,o=e.newPhone,a=e.phoneChangeHandler;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Add a new"}),Object(r.jsxs)("form",{onSubmit:n,children:[Object(r.jsxs)("div",{children:["name:",Object(r.jsx)("input",{value:t,onChange:c})]}),Object(r.jsxs)("div",{children:["number:",Object(r.jsx)("input",{value:o,onChange:a})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})]})},d=function(e){var n=e.personEntry,t=e.deleteNumber;return Object(r.jsxs)("li",{children:[n.name,", ",n.phone,Object(r.jsx)("button",{onClick:t,children:"delete"})]})},b=function(e){var n=e.personsToShow,t=e.deleteNumber;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)("ul",{children:n.map((function(e){return Object(r.jsx)(d,{personEntry:e,deleteNumber:function(){return t(e.id)}},e.name)}))})]})},j=t(4),h=t.n(j),f="http://localhost:3001/api/persons",m=function(){return h.a.get(f)},O=function(e){return h.a.post(f,e)},p=function(e){return h.a.delete("".concat(f,"/").concat(e))},g=function(e,n){return h.a.put("".concat(f,"/").concat(e),n)},x=function(e){var n=e.message,t={color:e.type,background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===n?null:Object(r.jsx)("div",{style:t,children:n})},v=function(){var e=Object(u.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(u.useState)(""),d=Object(i.a)(o,2),j=d[0],h=d[1],f=Object(u.useState)(""),v=Object(i.a)(f,2),w=v[0],y=v[1],C=Object(u.useState)(""),S=Object(i.a)(C,2),k=S[0],H=S[1],T=Object(u.useState)(null),N=Object(i.a)(T,2),P=N[0],E=N[1],F=Object(u.useState)(""),B=Object(i.a)(F,2),D=B[0],J=B[1],z=function(){m().then((function(e){c(e.data)}))};Object(u.useEffect)(z,[]);var A=k.length>0?t.filter((function(e){return e.name.toLowerCase().includes(k)})):t;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(x,{message:P,type:D}),Object(r.jsx)(s,{filterText:k,filterChangeHandler:function(e){H(e.target.value)}}),Object(r.jsx)(l,{submitHandler:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(j)){var n=t.find((function(e){return e.name===j}));if(window.confirm("".concat(j," is already in the phonebook, replace the old number with a new one?"))){var r=Object(a.a)(Object(a.a)({},n),{},{phone:w});g(n.id,r).then((function(){z(),E("".concat(j," has been updated in phonebook")),J("green"),h(""),y(""),setTimeout((function(){E(null)}),3e3)}))}}else{O({name:j,phone:w}).then((function(e){c(t.concat(e.data)),E("".concat(j," has been created in phonebook")),J("green"),setTimeout((function(){E(null)}),3e3),h(""),y("")}))}},newName:j,nameChangeHandler:function(e){h(e.target.value)},newPhone:w,phoneChangeHandler:function(e){y(e.target.value)}}),Object(r.jsx)(b,{personsToShow:A,deleteNumber:function(e){window.confirm("Do you really want to delete this entry?")&&p(e).then((function(){z(),E("Person deleted from phonebook"),J("green"),setTimeout((function(){E(null)}),3e3)})).catch((function(e){E("Person has already been deleted from phonebook"),J("red"),setTimeout((function(){E(null)}),3e3)}))}})]})};o.a.render(Object(r.jsx)(v,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.c7a4bf4f.chunk.js.map